/* ==============================
   Base + Paleta
============================== */
* { box-sizing: border-box; }
html, body { margin: 0; }

:root{
  /* Principal (verde) */
  --p-700:#2e7d32;
  --p-600:#2e7d32; /* alias para consistencia */
  --p-500:#43a047;
  --p-400:#66bb6a;
  --p-50:#e8f5e9;

  /* Secundarios suaves */
  --blue-500:#4fa3f7;
  --purple-500:#9c89e9;
  --amber-400:#f6c343;
  --amber-200:#ffecb3;

  /* Neutros */
  --ink-900:#263238;
  --card:#ffffff;
  --border:#e7ebef;
  --bg-tint:#f4faf5;
}

body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--p-500);
  min-height: 100vh;
  color: var(--ink-900);
}

.hidden { display: none !important; }

/* ==============================
   Topbar
============================== */
.topbar{
  display:flex; align-items:center; gap:12px;
  padding:16px 18px; background: rgba(255,255,255,.6);
  position:sticky; top:0; z-index:10;
  border-bottom:1px solid #e6e6e6;
}
.menu-icon{
  border:0; background:#fff; width:38px; height:38px; border-radius:10px;
  display:grid; place-items:center; box-shadow:0 2px 6px rgba(0,0,0,.08); cursor:pointer;
}
.menu-icon img{ display:block; }
.app-title{ flex:1; text-align:center; margin:0; font-weight:700; }
.btn-logout{
  background:#e50914; color:#fff; border:0; padding:10px 16px;
  border-radius:10px; cursor:pointer; font-weight:600;
  box-shadow:0 6px 18px rgba(229, 9, 20, .25);
}
.btn-logout:hover{ filter: brightness(1.06); }

/* ==============================
   Layout
============================== */
.main-wrap{ display:flex; gap:24px; padding:24px 18px; }
.sidebar{
  min-width: 230px; background:var(--card);
  border:1px solid var(--border); border-radius:14px; padding:16px;
  box-shadow:0 8px 24px rgba(0,0,0,.06); height: fit-content;
}
.sidebar h3{ margin-top:0; color:var(--blue-500); }
.sidebar a{ display:block; padding:8px 10px; border-radius:8px; color:#247b96; text-decoration:none; }
.sidebar a:hover{ background:#f3f5f7; }

@media (max-width: 900px){
  .sidebar{ position:fixed; top:66px; left:12px; transform:translateX(-115%); transition:transform .25s ease; z-index:20; }
  .sidebar.active{ transform:translateX(0); }
}

.contenido-principal{
  flex:1; background:var(--card); border:1px solid var(--border); border-radius:16px; padding:28px;
  box-shadow:0 10px 28px rgba(0,0,0,.08);
}
.contenido-principal h1{ margin-top:0; font-size: clamp(24px, 3.2vw, 36px); }

/* Tablas genéricas responsivas */
.tabla-listado{ width:100%; border-collapse: collapse; }
.tabla-listado th, .tabla-listado td{ border:1px solid #e6e6e6; padding:12px; text-align:left; font-size:14px; }
.tabla-listado th{ background:#f2f2f2; color:var(--p-600); font-weight:800; }
.tabla-wrap{ overflow:auto; -webkit-overflow-scrolling:touch; }

/* ==============================
   Sección Turnos / Formularios
============================== */
.main-title{ color:var(--p-600); font-size:2em; margin:0 0 12px; text-align:center; }

.btn{ padding:12px 18px; border:none; border-radius:8px; cursor:pointer; font-weight:700; transition:filter .2s ease, background-color .2s ease; }
.btn-guardar{ background:var(--p-500); color:#fff; } .btn-guardar:hover{ background:var(--p-600); }
.btn-cancelar-edit{ background:#f44336; color:#fff; } .btn-cancelar-edit:hover{ background:#d32f2f; }
.btn-editar{ background:#2196f3; color:#fff; } .btn-editar:hover{ background:#1976d2; }
.btn-eliminar{ background:#e91e63; color:#fff; } .btn-eliminar:hover{ background:#c2185b; }

/* Tabla */
#turnos-table{ width:100%; border-collapse:collapse; margin-top:16px; }
#turnos-table th, #turnos-table td{ border:1px solid #e6e6e6; padding:12px; text-align:left; font-size:14px; }
#turnos-table th{ background:#f2f2f2; color:var(--p-600); font-weight:800; }

/* Footer */
.site-footer{ margin:24px 18px; padding:16px; text-align:center; background:#f1f1f1; border-radius:12px; }

/* Evita “saltos” al aparecer/disparacer scrollbar */
html { scrollbar-gutter: stable both-edges; }

/* ==============================
   Modal (centrado 3 cm) + Drag
============================== */
.modal{
  display:none;
  position:fixed; inset:0;
  background:rgba(0,0,0,.35);
  justify-content:center; align-items:flex-start;
  padding-top:3cm; z-index:1000;
}
.modal.is-open{ display:flex; }

/* La tarjeta del modal: drag por transform */
#modalForm .modal-card{
  max-width:720px; width:min(720px,95vw);
  background:#fff; border-radius:12px; padding:16px; margin:0;
  transform: translate(0,0);
  will-change: transform;
  max-height: calc(100vh - 6cm);
  overflow:auto;
}
#modalForm .drag-handle{ cursor: move; }
#modalForm.dragging, #modalForm .drag-handle{ user-select: none; }

/* Utilidades grid para el formulario */
.grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.col-span-2{ grid-column:1 / -1; }

/* ==============================
   Toast (siempre por encima)
============================== */
#toast{
  position:fixed; left:50%; top:16px; transform:translateX(-50%);
  z-index:10000; display:none; max-width:min(640px,90vw);
  padding:12px 16px; border-radius:10px; box-shadow:0 10px 28px rgba(0,0,0,.18);
  color:#333; font-weight:600; background:#fff;
}

/* ==============================
   Modo oscuro opcional
============================== */
@media (prefers-color-scheme: dark){
  body{ background:#1f3327; color:#e6ece8; }
  .topbar{ background: rgba(255,255,255,0.08); border-bottom-color:#2b4a3a; }
  .sidebar{ background:#22372b; border-color:#2b4a3a; }
  .contenido-principal{ background:#22372b; border-color:#2b4a3a; }
  .tabla-listado th{ background:#2a4334; }
  .sidebar a:hover{ background:#243f30; }
}
.toast-ok{ background:#e6ffed; border:1px solid #89d79d; }
.toast-error{ background:#ffe6e6; border:1px solid #e08b8b; }

/* ==============================
   Responsividad (tablet y móvil)
============================== */
@media (max-width: 1024px){
  .main-wrap{ gap:16px; padding:16px 14px; }
  .contenido-principal{ padding:22px; }
  .btn{ padding:10px 14px; }
}

@media (max-width: 768px){
  .main-wrap{ flex-direction: column; }
  .contenido-principal{ padding:18px; }
  .app-title{ font-size: 18px; text-align:left; }
  .btn-logout{ padding:8px 12px; font-size:14px; }
  .tabla-listado th, .tabla-listado td{ padding:10px; font-size:13px; }
  /* Formularios y grillas pasan a 1 columna */
  .grid-2,
  [style*="grid-template-columns"]{ grid-template-columns:1fr !important; }
  /* Sidebar como panel deslizante más ancho para táctil */
  .sidebar{ width: 80vw; max-width: 320px; }
  /* Barras de filtros en tarjetas se envuelven */
  .card > * { flex-wrap: wrap; }
  /* Etiquetas apiladas para inputs/selects largos */
  .card label{ display:flex; flex-direction:column; align-items:flex-start; gap:4px; }
  /* Inputs/selects usan todo el ancho si están en flex o grid */
  .card input, .card select, .card textarea{ max-width: 100%; width: 100%; }
}

@media (max-width: 480px){
  .topbar{ padding:12px; gap:8px; }
  .menu-icon{ width:34px; height:34px; }
  .contenido-principal{ padding:14px; border-radius:12px; }
  .tabla-listado th, .tabla-listado td{ padding:8px; font-size:12.5px; }
  .btn{ padding:10px 12px; font-size:14px; }
}
