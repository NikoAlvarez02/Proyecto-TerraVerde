/* ==============================
   Base
============================== */
* { box-sizing: border-box; }
html, body { margin: 0; }
body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: #e8f5e9; }

.hidden { display: none !important; }

/* ==============================
   Topbar
============================== */
.topbar{
  display:flex; align-items:center; gap:12px;
  padding:16px 18px; background:#e8f5e9;
  position:sticky; top:0; z-index:10;
  border-bottom:1px solid #e6e6e6;
}
.menu-icon{
  border:0; background:#fff; width:38px; height:38px; border-radius:10px;
  display:grid; place-items:center; box-shadow:0 2px 6px rgba(0,0,0,.08); cursor:pointer;
}
.menu-icon img{ display:block; }
.app-title{ flex:1; text-align:center; margin:0; font-weight:700; }
.btn-logout{
  background:#e50914; color:#fff; border:0; padding:10px 16px;
  border-radius:10px; cursor:pointer; font-weight:600;
  box-shadow:0 6px 18px rgba(229, 9, 20, .25);
}
.btn-logout:hover{ filter: brightness(1.06); }

/* ==============================
   Layout
============================== */
.main-wrap{ display:flex; gap:24px; padding:24px 18px; }
.sidebar{
  min-width: 230px; background:#fff;
  border:1px solid #e7ebef; border-radius:14px; padding:16px;
  box-shadow:0 8px 24px rgba(0,0,0,.06); height: fit-content;
}
.sidebar h3{ margin-top:0; color:#03b5eb; }
.sidebar a{ display:block; padding:8px 10px; border-radius:8px; color:#247b96; text-decoration:none; }
.sidebar a:hover{ background:#f3f5f7; }

@media (max-width: 900px){
  .sidebar{ position:fixed; top:66px; left:12px; transform:translateX(-115%); transition:transform .25s ease; z-index:20; }
  .sidebar.active{ transform:translateX(0); }
}

.contenido-principal{
  flex:1; background:#fff; border:1px solid #e7ebef; border-radius:16px; padding:28px;
  box-shadow:0 10px 28px rgba(0,0,0,.08);
}
.contenido-principal h1{ margin-top:0; font-size: clamp(24px, 3.2vw, 36px); }

/* ==============================
   Sección Turnos / Formularios
============================== */
.main-title{ color:#388e3c; font-size:2em; margin:0 0 12px; text-align:center; }

.btn{ padding:12px 18px; border:none; border-radius:8px; cursor:pointer; font-weight:700; transition:filter .2s ease, background-color .2s ease; }
.btn-guardar{ background:#4caf50; color:#fff; } .btn-guardar:hover{ background:#388e3c; }
.btn-cancelar-edit{ background:#f44336; color:#fff; } .btn-cancelar-edit:hover{ background:#d32f2f; }
.btn-editar{ background:#2196f3; color:#fff; } .btn-editar:hover{ background:#1976d2; }
.btn-eliminar{ background:#e91e63; color:#fff; } .btn-eliminar:hover{ background:#c2185b; }

/* Tabla */
#turnos-table{ width:100%; border-collapse:collapse; margin-top:16px; }
#turnos-table th, #turnos-table td{ border:1px solid #e6e6e6; padding:12px; text-align:left; font-size:14px; }
#turnos-table th{ background:#f2f2f2; color:#388e3c; font-weight:800; }

/* Footer */
.site-footer{ margin:24px 18px; padding:16px; text-align:center; background:#f1f1f1; border-radius:12px; }

/* Evita “saltos” al aparecer/disparacer scrollbar */
html { scrollbar-gutter: stable both-edges; }

/* ==============================
   Modal (centrado 3 cm) + Drag
============================== */
.modal{
  display:none;
  position:fixed; inset:0;
  background:rgba(0,0,0,.35);
  justify-content:center; align-items:flex-start;
  padding-top:3cm; z-index:1000;
}
.modal.is-open{ display:flex; }

/* La tarjeta del modal: drag por transform */
#modalForm .modal-card{
  max-width:720px; width:min(720px,95vw);
  background:#fff; border-radius:12px; padding:16px; margin:0;
  transform: translate(0,0);
  will-change: transform;
  max-height: calc(100vh - 6cm);
  overflow:auto;
}
#modalForm .drag-handle{ cursor: move; }
#modalForm.dragging, #modalForm .drag-handle{ user-select: none; }

/* Utilidades grid para el formulario */
.grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.col-span-2{ grid-column:1 / -1; }

/* ==============================
   Toast (siempre por encima)
============================== */
#toast{
  position:fixed; left:50%; top:16px; transform:translateX(-50%);
  z-index:10000; display:none; max-width:min(640px,90vw);
  padding:12px 16px; border-radius:10px; box-shadow:0 10px 28px rgba(0,0,0,.18);
  color:#333; font-weight:600; background:#fff;
}
.toast-ok{ background:#e6ffed; border:1px solid #89d79d; }
.toast-error{ background:#ffe6e6; border:1px solid #e08b8b; }
