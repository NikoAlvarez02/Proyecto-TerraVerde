{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Administración | TerraVerde</title>
  <link rel="icon" href="{% static 'ASSETS/terraverde.png' %}">
  <link rel="stylesheet" href="{% static 'CSS/stylespaciente.css' %}">
</head>
<body>
<header>
  <h2>Administración TerraVerde</h2>
  <form method="post" action="{% url 'logout' %}" style="float: right;">
    {% csrf_token %}
    <button class="sesion" type="submit">Cerrar Sesión</button>
  </form>
  <div style="clear: both;"></div>
</header>

<main>
  <img src="{% static 'ASSETS/logo.png' %}" alt="Menú" class="menu-btn" width="30">
  <div class="sidebar" id="sidebar">
    <h3>Submódulos</h3>

    {# Mostrar enlace al admin solo a staff/superuser #}
    {% if request.user.is_authenticated %}
      {% if request.user.is_staff or request.user.is_superuser %}
        <a href="{% url 'admin:index' %}" target="_blank" rel="noopener">Panel de administración de Django</a>
        <a href="{% url 'centros:list' %}">Centros</a>
        <a href="{% url 'historias:historia' %}">Historia Clínica</a>
        <a href="{% url 'reportes:dashboard' %}">Reportes</a>
        <a href="{% url 'reportes:viewer' %}">Visor de Reportes</a>
        <a href="{% url 'usuarios:list' %}">Usuarios</a>
        {% endif %}
    {% endif %}

    <a href="{% url 'home' %}">Volver al inicio</a>
  </div>
</main>

<script>
  const menuBtn = document.querySelector(".menu-btn");
  const sidebar = document.getElementById("sidebar");
  if (menuBtn && sidebar) {
    menuBtn.addEventListener("click", () => sidebar.classList.toggle("active"));
  }
  </script>
</body>
</html>

